<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login</title>
    <link rel="stylesheet" href="../static/login.css">
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/check.png') }}">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
    <script src="/_sdk/element_sdk.js"></script>
</head>
<body class="h-full w-full login-body">

  <div id="app-container" class="flex items-center justify-center min-h-screen w-full login-background">
    <!-- Decorative elements -->
    <div class="fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
      <div class="decor-circle circle-top-left"></div>
      <div class="decor-circle circle-bottom-right"></div>
    </div>

    <!-- Login Card -->
    <div class="relative w-full max-w-md fade-in">
      <div class="login-card relative rounded-2xl p-8 md:p-10 shadow-2xl">

        <!-- Logo/Icon -->
        <div class="flex justify-center mb-6">
          <div class="logo-container w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
            </svg>
          </div>
        </div>

        <!-- Heading -->
        <h1 class="text-2xl md:text-3xl font-bold text-center mb-2 login-title">Admin Login</h1>
        <p class="text-center text-sm mb-6 login-subtitle">Enter your credentials to continue</p>

        <!-- Error Message (Flask) -->
        {% if error %}
          <div class="mb-6">
            <div class="flex items-center gap-3 p-4 rounded-xl error-message">
              <svg class="w-5 h-5 flex-shrink-0 error-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              <span class="error-text">{{ error }}</span>
            </div>
          </div>
        {% endif %}

        <!-- Form -->
        <form method="POST" class="space-y-5">
          <!-- Username -->
          <div class="space-y-2">
            <label for="username" class="form-label">Username</label>
            <div class="relative">
              <span class="input-icon">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </span>
              <input type="text" id="username" name="username" class="login-input" placeholder="Username" required>
            </div>
          </div>

          <!-- Password -->
          <div class="space-y-2">
            <label for="password" class="form-label">Password</label>
            <div class="relative">
              <span class="input-icon">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                </svg>
              </span>
              <input type="password" id="password" name="password" class="login-input" placeholder="Password" required>
            </div>
          </div>

          <!-- Remember Me / Forgot 
          <div class="flex items-center justify-between text-sm">
            <label class="flex items-center gap-2 cursor-pointer">
              <input type="checkbox" class="checkbox">
              <span class="checkbox-text">Remember me</span>
            </label>
            <a href="#" class="forgot-link" onclick="event.preventDefault();">Forgot password?</a>
          </div>
          -->

          <!-- Submit -->
          <button type="submit" class="login-btn">Login</button>
        </form>
      </div>

      <!-- Footer -->
        <footer class="mt-8 text-center">
            <p class="text-sm text-slate-400">
                &copy; 2026 Face Recognition Attendance System â€¢ Created by Jewel Hart P. Arconeda
            </p>
        </footer>
    </div>
  </div>
  <script>
    const defaultConfig = {
      page_title: 'Admin Login',
      username_placeholder: 'Enter your username',
      password_placeholder: 'Enter your password',
      button_text: 'Login',
      demo_notice: 'UI Demo Only',
      background_color: '#f8fafc',
      surface_color: '#ffffff',
      text_color: '#1e293b',
      primary_action: '#3b82f6',
      secondary_action: '#64748b'
    };
    
    let config = { ...defaultConfig };
    
    async function onConfigChange(cfg) {
      config = { ...defaultConfig, ...cfg };
      
      // Update text content
      document.getElementById('page-title').textContent = config.page_title || defaultConfig.page_title;
      document.getElementById('username').placeholder = config.username_placeholder || defaultConfig.username_placeholder;
      document.getElementById('password').placeholder = config.password_placeholder || defaultConfig.password_placeholder;
      document.getElementById('login-btn').textContent = config.button_text || defaultConfig.button_text;
      document.getElementById('demo-badge').textContent = config.demo_notice || defaultConfig.demo_notice;
      
      // Update colors
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action || defaultConfig.primary_action;
      const secondaryColor = config.secondary_action || defaultConfig.secondary_action;
      
      document.getElementById('app-container').style.background = `linear-gradient(135deg, ${bgColor} 0%, #e2e8f0 50%, #cbd5e1 100%)`;
      document.getElementById('page-title').style.color = textColor;
      document.getElementById('login-btn').style.background = `linear-gradient(135deg, ${primaryColor}, #1e40af)`;
    }
    
    function mapToCapabilities(cfg) {
      return {
        recolorables: [
          {
            get: () => cfg.background_color || defaultConfig.background_color,
            set: (value) => { cfg.background_color = value; window.elementSdk.setConfig({ background_color: value }); }
          },
          {
            get: () => cfg.surface_color || defaultConfig.surface_color,
            set: (value) => { cfg.surface_color = value; window.elementSdk.setConfig({ surface_color: value }); }
          },
          {
            get: () => cfg.text_color || defaultConfig.text_color,
            set: (value) => { cfg.text_color = value; window.elementSdk.setConfig({ text_color: value }); }
          },
          {
            get: () => cfg.primary_action || defaultConfig.primary_action,
            set: (value) => { cfg.primary_action = value; window.elementSdk.setConfig({ primary_action: value }); }
          },
          {
            get: () => cfg.secondary_action || defaultConfig.secondary_action,
            set: (value) => { cfg.secondary_action = value; window.elementSdk.setConfig({ secondary_action: value }); }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => cfg.font_family || 'DM Sans',
          set: (value) => { cfg.font_family = value; window.elementSdk.setConfig({ font_family: value }); }
        },
        fontSizeable: {
          get: () => cfg.font_size || 16,
          set: (value) => { cfg.font_size = value; window.elementSdk.setConfig({ font_size: value }); }
        }
      };
    }
    
    function mapToEditPanelValues(cfg) {
      return new Map([
        ['page_title', cfg.page_title || defaultConfig.page_title],
        ['username_placeholder', cfg.username_placeholder || defaultConfig.username_placeholder],
        ['password_placeholder', cfg.password_placeholder || defaultConfig.password_placeholder],
        ['button_text', cfg.button_text || defaultConfig.button_text],
        ['demo_notice', cfg.demo_notice || defaultConfig.demo_notice]
      ]);
    }
    
    // Initialize SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
    
    // Form handling (demo only)
    document.getElementById('login-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const errorContainer = document.getElementById('error-container');
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      
      // Show demo error for demonstration
      if (!username || !password) {
        errorContainer.classList.remove('hidden');
        document.getElementById('error-text').textContent = 'Please fill in all fields (Demo)';
      } else {
        errorContainer.classList.remove('hidden');
        document.getElementById('error-text').textContent = 'Demo mode: No authentication performed';
      }
      
      // Hide error after 3 seconds
      setTimeout(() => {
        errorContainer.classList.add('hidden');
      }, 3000);
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9bd14e334058bc34',t:'MTc2ODI2OTY4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>

    
</body>
</html>